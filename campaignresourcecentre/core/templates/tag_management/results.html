{% extends 'wagtailadmin/base.html' %}
{% load wagtailadmin_tags static %}

{% block titletag %}
  Tag Management Results
{% endblock %}

{% block extra_css %}
  {{ block.super }}
  <link rel="stylesheet" href="{% static 'tag_management/css/bulk_manage_tags.css' %}" />
{% endblock %}

{% block content %}
  {% include 'wagtailadmin/shared/header.html' with title='Tag Management Results' icon='success' %}

  <div class="nice-padding">
    {% if num_failed == 0 and num_modified > 0 %}
      <div class="help-block help-success">
        <svg class="icon icon-success" aria-hidden="true">
          <use href="#icon-success"></use>
        </svg>Successfully updated {{ num_modified }} page{{ num_modified|pluralize }}!
      </div>
    {% elif num_failed > 0 and num_modified > 0 %}
      <div class="help-block help-warning">
        <svg class="icon icon-warning" aria-hidden="true">
          <use href="#icon-warning"></use>
        </svg>Updated {{ num_modified }} page{{ num_modified|pluralize }}, but {{ num_failed }} page{{ num_failed|pluralize }} failed to update.
      </div>
    {% elif num_failed > 0 %}
      <div class="help-block help-critical">
        <svg class="icon icon-cross" aria-hidden="true">
          <use href="#icon-cross"></use>
        </svg>Failed to update {{ num_failed }} page{{ num_failed|pluralize }}.
      </div>
    {% endif %}

    <h2>Updated Pages</h2>
    {% if items %}
      {% include 'tag_management/includes/changes_table.html' with show_results=True %}
    {% else %}
      <p>No changes were made.</p>
    {% endif %}

    <div class="button-wrapper">
      <a href="{{ next_url }}" class="button">Back to Pages</a>
    </div>
  </div>
{% endblock %}
