{% extends 'wagtailadmin/reports/base_report_results.html' %}
{% load i18n wagtailadmin_tags %}

{% block results %}
    <table class="listing">
        <thead>
            <tr>
                <th>{% trans "Campaign Hierarchy" %}</th>
                <th>{% trans "Title" %}</th>
                <th>{% trans "Taxonomy Tags" %}</th>
                <th>{% trans "First Published" %}</th>
                <th>{% trans "Last Published" %}</th>
                <th>{% trans "Status" %}</th>
            </tr>
        </thead>
        <tbody>
            {% for resource in object_list %}
                <tr>
                    <td>{{ resource.parent_campaign_chain }}</td>
                    <td>
                        <a href="{% url 'wagtailadmin_pages:edit' resource.id %}">
                            {{ resource.get_admin_display_title }}
                        </a>
                    </td>
                    <td>{{ resource.all_taxonomy_tags }}</td>
                    <td>{% if resource.first_published_at %}{% human_readable_date resource.first_published_at %}{% else %}—{% endif %}</td>
                    <td>{% if resource.last_published_at %}{% human_readable_date resource.last_published_at %}{% else %}—{% endif %}</td>
                    <td>{% include "wagtailadmin/shared/page_status_tag.html" with page=resource %}</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
{% endblock %}

{% block no_results_message %}
    <p>{% trans "No resources found." %}</p>
{% endblock %}
